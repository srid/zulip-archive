<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="What I&#39;ve been using for my projects. It might be useful to others:
https://www.srid.ca/haskell-new-project.html" name="description"><link href="https://funprog.srid.ca/haskell/nix-haskell-project-template-with-ide-support.html" rel="canonical"><meta property="og:title" content="Nix+Haskell project template with IDE support - Haskell"><meta property="og:site_name" content="Functional Programming Zulip Archive"><meta property="og:type" content="article"><meta property="og:article:section" content="Haskell"><meta property="og:article:modified_time" content="2020-11-19T01:51:48Z"><meta property="og:article:published_time" content="2020-11-16T17:09:13Z"><meta property="og:image" content="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"><title>Nix+Haskell project template with IDE support - Haskell</title><style type="text/css">
div#thesite
{
  font-family   : "Open Sans", sans-serif;
  font-size     : 1em !important;
  margin-top    : 1em;
  margin-bottom : 1em;
}

div#thesite h1
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h2
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h3
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h4
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h5
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h6
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .ui.breadcrumb.rib .section
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .as-header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite code, pre, tt
{
  font-family : "SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace;
}

div#thesite .ui.breadcrumb.rib
{
  margin-bottom : 1em;
}



div#thesite .ui.comments.messages .comment .metadata a
{
  color : #808080;
}

div#thesite .ui.comments.messages .comment a.avatar img
{
  height : auto;
}

div#thesite .subtle
{
  color : #808080;
}


div#thesite .messages pre
{
  font-size : 85%;
  overflow  : auto;
  max-width : 100%;
}

div#thesite .messages .message_embed
{
  border-left  : solid 3px #808080;
  padding-left : 0.69999em;
}

div#thesite .messages .message_inline_image img
{
  max-width     : 100%;
  margin-bottom : 1em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans&amp;display=swap" rel="stylesheet"></head><body><div id="thesite" class="ui text container"><div class="ui violet inverted top attached center aligned segment"><h1 class="ui huge header">Nix+Haskell project template with IDE support - Haskell</h1></div><div class="ui attached segment"><div class="ui message"><p>Welcome to the Functional Programming Zulip Chat Archive. You can join the chat <a href="https://funprog.zulipchat.com">here</a>.</p></div><div class="ui breadcrumb rib"><a href="/" class="section">Home</a><i class="right angle icon divider"></i><a href="/haskell/" class="section">#Haskell</a><i class="right angle icon divider"></i><div class="active section">Nix+Haskell project template with IDE support</div></div><div class="ui comments messages"><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216901151" name="216901151"><div>2020-11-16 17:09:13</div></a></div><div class="text"><p>What I've been using for my projects. It might be useful to others:</p>
<p><a href="https://www.srid.ca/haskell-new-project.html">https://www.srid.ca/haskell-new-project.html</a></p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216901202" name="216901202"><div>2020-11-16 17:09:40</div></a></div><div class="text"><p>The note is only a rough outline; it could be improved with elaborate steps (PR welcome)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/068f19d948936a41dcd13e340bacb9344e28944c?version=2"></a><div class="content"><a class="author">Bolt</a><div class="metadata"><a href="#216906936" name="216906936"><div>2020-11-16 17:51:53</div></a></div><div class="text"><p>What do you think about mine? Just need to add hls too I think. I have it documented with useful things you might wish to do! It uses niv</p>
<p><a href="https://github.com/bolt12/nix-hs-template">https://github.com/bolt12/nix-hs-template</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bolt12/nix-hs-template" style="background-image: url(https://avatars3.githubusercontent.com/u/20261421?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bolt12/nix-hs-template" title="bolt12/nix-hs-template">bolt12/nix-hs-template</a></div><div class="message_embed_description">Haskell + Nix project setup Cookiecutter template. Contribute to bolt12/nix-hs-template development by creating an account on GitHub.</div></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216924857" name="216924857"><div>2020-11-16 20:11:24</div></a></div><div class="text"><p>I'll have to look at it in detail. Mine is not really a template, but more of a documented "list of steps" you can do to get your project layout. Basically a bunch of commands. I might get to evolving it to a bunch of "recipes" (howtos). Like, "How to add docker image to your Haskell Nix project". So you have a bunch of independent recipes/howtos that can be composed to create/evolve a Haskell project to your liking.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216924926" name="216924926"><div>2020-11-16 20:12:00</div></a></div><div class="text"><p>Another reason why mine remains documented steps, rather than software template is that these are evolving preferences, with no "perfect" project layout suiting everyone at all stages in their career.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/3fd04473065250c8eec3f222ba3a974b28940e8a?version=2"></a><div class="content"><a class="author">Pedro Minicz</a><div class="metadata"><a href="#216932962" name="216932962"><div>2020-11-16 21:13:06</div></a></div><div class="text"><p>Pardon my ignorance, but can I use Nix as a Cabal/Stack replacement? I've seen Nix everything and still don't know what all the fuzz is about.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=4"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#216933169" name="216933169"><div>2020-11-16 21:14:37</div></a></div><div class="text"><p>there are some experiments like <a href="https://github.com/nmattia/snack">https://github.com/nmattia/snack</a> but I know of nothing that's production ready. you'll need at least cabal</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/nmattia/snack" style="background-image: url(https://avatars1.githubusercontent.com/u/6930756?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/nmattia/snack" title="nmattia/snack">nmattia/snack</a></div><div class="message_embed_description">Nix-based incremental build tool for Haskell projects - nmattia/snack</div></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216934891" name="216934891"><div>2020-11-16 21:28:48</div></a></div><div class="text"><p>Nix is more general than stack, and it replaces stack. <a href="https://www.srid.ca/2012601.html">Cabal</a> is everywhere, and Nix uses it.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216935055" name="216935055"><div>2020-11-16 21:30:08</div></a></div><div class="text"><p>You don't need <code>snack</code>? Just use <code>nix-shell</code> in conjunction with <code>cabal</code>.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216935094" name="216935094"><div>2020-11-16 21:30:33</div></a></div><div class="text"><p>Nobody uses <code>nix-build</code> during development; and <code>nix-shell</code> in conjunction with <code>ghcid</code>, <code>cabal new-repl</code> or <code>haskell-language-server</code> is the typical workflow</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/3fd04473065250c8eec3f222ba3a974b28940e8a?version=2"></a><div class="content"><a class="author">Pedro Minicz</a><div class="metadata"><a href="#216939664" name="216939664"><div>2020-11-16 22:09:41</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="251311">Sridhar Ratnakumar</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216934891">said</a>:</p>
<blockquote>
<p><a href="https://www.srid.ca/2012601.html">Cabal</a> is everywhere, and Nix uses it.</p>
</blockquote>
<p>This is sad. I don't like Cabal. There has never been another package manager for Haskell? What is the history behind Cabal?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/068f19d948936a41dcd13e340bacb9344e28944c?version=2"></a><div class="content"><a class="author">Bolt</a><div class="metadata"><a href="#216939686" name="216939686"><div>2020-11-16 22:09:53</div></a></div><div class="text"><p>I personally use nix with stack</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/068f19d948936a41dcd13e340bacb9344e28944c?version=2"></a><div class="content"><a class="author">Bolt</a><div class="metadata"><a href="#216939763" name="216939763"><div>2020-11-16 22:10:20</div></a></div><div class="text"><p><span class="user-mention" data-user-id="251311">@Sridhar Ratnakumar</span> definitely, you can maybe take apart some of the things I use and create independent recipes for each one</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/068f19d948936a41dcd13e340bacb9344e28944c?version=2"></a><div class="content"><a class="author">Bolt</a><div class="metadata"><a href="#216939779" name="216939779"><div>2020-11-16 22:10:28</div></a></div><div class="text"><p>That's a much better idea</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#216940402" name="216940402"><div>2020-11-16 22:15:11</div></a></div><div class="text"><p>I used to only use stack, but cabal is pretty good now. I still use <code>hpack</code> and it's mildly annoying that I have to manually run it to generate the cabal file, but other than that... it's just pretty much the same commands as with <code>stack</code>.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#216940454" name="216940454"><div>2020-11-16 22:15:55</div></a></div><div class="text"><p>(but without the annoyances stack has with nix, and it's so easy to just use <code>callCabal2nix</code> rather than <code>haskell.nix</code>)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=4"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#216940926" name="216940926"><div>2020-11-16 22:20:04</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="250750">Vladimir Ciobanu</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216940402">said</a>:</p>
<blockquote>
<p>it's mildly annoying that I have to manually run it to generate the cabal file</p>
</blockquote>
<p>I just run my hpack script whenever a <code>.yaml</code> file is written!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/068f19d948936a41dcd13e340bacb9344e28944c?version=2"></a><div class="content"><a class="author">Bolt</a><div class="metadata"><a href="#216942103" name="216942103"><div>2020-11-16 22:32:01</div></a></div><div class="text"><p><span class="user-mention" data-user-id="250750">@Vladimir Ciobanu</span> I .fine using stack + nix without haskell.nix. stack just uses my stack.nix file as you can see from my template</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#216942685" name="216942685"><div>2020-11-16 22:37:30</div></a></div><div class="text"><p><span class="user-mention" data-user-id="250742">@Bolt</span> problem is I end up using cabal anyway through <code>callCabal2nix</code> because that's how I deploy binaries to servers (via <code>nix-copy-closure</code>).</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/068f19d948936a41dcd13e340bacb9344e28944c?version=2"></a><div class="content"><a class="author">Bolt</a><div class="metadata"><a href="#216942825" name="216942825"><div>2020-11-16 22:38:28</div></a></div><div class="text"><p>I'm not familiar with nix-copy-closure but that seems cool!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#216942828" name="216942828"><div>2020-11-16 22:38:30</div></a></div><div class="text"><p><span class="user-mention" data-user-id="260881">@Torsten Schmits</span> , Sure but I have to remember doing it. Maybe some vim plugin to do it for me whenever I save a yaml file...</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#216942928" name="216942928"><div>2020-11-16 22:39:27</div></a></div><div class="text"><p><span class="user-mention" data-user-id="250742">@Bolt</span> ,  It's super cool. You can ssh-copy anything in your store to a different computer, and it will copy all the dependencies as well. No need to compile on that server! Which is quite relevant for running small NixOS servers that can't build lens/big Haskell libs, but can run the results!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=4"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#216942933" name="216942933"><div>2020-11-16 22:39:29</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="250750">Vladimir Ciobanu</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216942828">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="260881">Torsten Schmits</span> , Sure but I have to remember doing it. Maybe some vim plugin to do it for me whenever I save a yaml file...</p>
</blockquote>
<p>that's what I meant <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span> just <code>autocmd BufWritePost *.yaml !ops/hpack.bash</code> or whatever</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/068f19d948936a41dcd13e340bacb9344e28944c?version=2"></a><div class="content"><a class="author">Bolt</a><div class="metadata"><a href="#216943080" name="216943080"><div>2020-11-16 22:40:46</div></a></div><div class="text"><p><span class="user-mention" data-user-id="250750">@Vladimir Ciobanu</span> that might be extra cool to cross compile to ARM and then ssh-copy to an rpi or something! Nice!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#216943274" name="216943274"><div>2020-11-16 22:42:20</div></a></div><div class="text"><p>Indeed. All you need is ssh access!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#216951427" name="216951427"><div>2020-11-17 00:17:40</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="346868">Pedro Minicz</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216939664">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="251311">Sridhar Ratnakumar</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216934891">said</a>:</p>
<blockquote>
<p><a href="https://www.srid.ca/2012601.html">Cabal</a> is everywhere, and Nix uses it.</p>
</blockquote>
<p>This is sad. I don't like Cabal. There has never been another package manager for Haskell? What is the history behind Cabal?</p>
</blockquote>
<p>why you hate Cabal? is it because the old blog ranting about Cabal? Cabal is pretty good these days. And it's more advantage over stack nowadays. I've seen senior haskell devs, said that stack can cause you a trouble when your project grows very big</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#216951574" name="216951574"><div>2020-11-17 00:19:18</div></a></div><div class="text"><p>and, <code>snack</code> is not maintained, so avoid using it. Just use simple nix-shell.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216956261" name="216956261"><div>2020-11-17 01:26:37</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="250750">Vladimir Ciobanu</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216942928">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="250742">Bolt</span> ,  It's super cool. You can ssh-copy anything in your store to a different computer, and it will copy all the dependencies as well. No need to compile on that server! Which is quite relevant for running small NixOS servers that can't build lens/big Haskell libs, but can run the results!</p>
</blockquote>
<p>That's how I deploy big ass ghcjs projects to measly $5 digitalocean droplets. nix-copy-closure is one way, another way (that I use currently) is to expose your home machine, via wireguard, to the internet and make it serve its /nix store as cache.  <a href="https://twitter.com/sridca/status/1308808239677571072">https://twitter.com/sridca/status/1308808239677571072</a></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/sridca/status/1308808239677571072"><img class="twitter-avatar" src="https://pbs.twimg.com/profile_images/1278707979462881280/piRvgOXO_normal.jpg"></a><p>Setting up your own Nix cache (Linux) is pretty easy with <a href="https://twitter.com/nixos_org">@nixos_org</a>.

<a href="https://t.co/y3t5QjSBkF">https://nixos.wiki/wiki/Binary_Cache</a>

If using a home-machine, use <a href="https://twitter.com/WireGuardVPN">@WireGuardVPN</a> to expose it via a $5 <a href="https://twitter.com/digitalocean">@digitalocean</a> droplet "facade". 

That is how I run some internet-exposed services on my P71 workstation at home.</p><span>- HAIETMOBA (@sridca)</span></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=4"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#216956585" name="216956585"><div>2020-11-17 01:32:07</div></a></div><div class="text"><p>it is also quite notable that using cachix makes the exposition of your machine's store unnecessary</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=4"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#216956603" name="216956603"><div>2020-11-17 01:32:27</div></a></div><div class="text"><p>and you get 10G compressed store for free</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#217035079" name="217035079"><div>2020-11-17 17:29:40</div></a></div><div class="text"><p>cachix is slow. separate external caches in general are</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#217035105" name="217035105"><div>2020-11-17 17:29:54</div></a></div><div class="text"><p>you have to push to, and download from, cachix. that's 2x asset transfer.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#217035187" name="217035187"><div>2020-11-17 17:30:16</div></a></div><div class="text"><p>it is nice for small open source projects though</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/3fd04473065250c8eec3f222ba3a974b28940e8a?version=2"></a><div class="content"><a class="author">Pedro Minicz</a><div class="metadata"><a href="#217220024" name="217220024"><div>2020-11-19 01:37:39</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="251394">Rizary</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216951427">said</a>:</p>
<blockquote>
<p>why you hate Cabal? is it because the old blog ranting about Cabal?</p>
</blockquote>
<p>I am not aware of this rant. I just had horrible experiences trying to install some stuff from hackage about a year ago. I remember a bunch of command line options having a "version 2", which is just ugly. Why not completely remove the old cruft?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#217220837" name="217220837"><div>2020-11-19 01:51:48</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="346868">Pedro Minicz</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/217220024">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="251394">Rizary</span> <a href="#narrow/stream/201385-Haskell/topic/Nix.2BHaskell.20project.20template.20with.20IDE.20support/near/216951427">said</a>:</p>
<blockquote>
<p>why you hate Cabal? is it because the old blog ranting about Cabal?</p>
</blockquote>
<p>I am not aware of this rant. I just had horrible experiences trying to install some stuff from hackage about a year ago. I remember a bunch of command line options having a "version 2", which is just ugly. Why not completely remove the old cruft?</p>
</blockquote>
<p>version  2 command is already a default command. So you just need to run <code>cabal build</code> instead <code>cabal new-build</code>. They cannot completely remove it because some users still use the version 1 command at that time. But now, version 2 is already the default command without <code>new-</code> prefix.</p></div></div></div></div></div><div class="ui vertical footer segment"><a href="https://github.com/srid/zulip-archive">Powered by Haskell</a> | Questions? Contact <a href="https://www.srid.ca">srid</a></div></div></body></html>