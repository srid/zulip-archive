<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Hello, if you are looking to use Nix,  I&#39;d appreciate your feedback on this article: https://www.srid.ca/haskell-nix.html" name="description"><link href="https://funprog.srid.ca/haskell/nix-recipes-for-haskellers.html" rel="canonical"><meta property="og:title" content="Nix recipes for Haskellers - Haskell"><meta property="og:site_name" content="Functional Programming Zulip Archive"><meta property="og:type" content="article"><meta property="og:article:section" content="Haskell"><meta property="og:article:modified_time" content="2019-12-12T11:47:56Z"><meta property="og:article:published_time" content="2019-11-24T15:03:39Z"><meta property="og:image" content="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?x=x&amp;version=2"><title>Nix recipes for Haskellers - Haskell</title><style type="text/css">
div#thesite
{
  font-family   : "Open Sans", sans-serif;
  font-size     : 1em !important;
  margin-top    : 1em;
  margin-bottom : 1em;
}

div#thesite h1
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h2
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h3
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h4
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h5
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h6
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .ui.breadcrumb.rib .section
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .as-header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite code, pre, tt
{
  font-family : "SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace;
}

div#thesite .ui.breadcrumb.rib
{
  margin-bottom : 1em;
}



div#thesite .ui.comments.messages .comment .metadata a
{
  color : #808080;
}

div#thesite .ui.comments.messages .comment a.avatar img
{
  height : auto;
}

div#thesite .subtle
{
  color : #808080;
}


div#thesite .messages pre
{
  font-size : 85%;
  overflow  : auto;
  max-width : 100%;
}

div#thesite .messages .message_embed
{
  border-left  : solid 3px #808080;
  padding-left : 0.69999em;
}

div#thesite .messages .message_inline_image img
{
  max-width     : 100%;
  margin-bottom : 1em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans&amp;display=swap" rel="stylesheet"></head><body><div id="thesite" class="ui text container"><div class="ui violet inverted top attached center aligned segment"><h1 class="ui huge header">Nix recipes for Haskellers - Haskell</h1></div><div class="ui attached segment"><div class="ui message"><p>Welcome to the Functional Programming Zulip Chat Archive. You can join the chat <a href="https://funprog.zulipchat.com">here</a>.</p></div><div class="ui breadcrumb rib"><a href="/" class="section">Home</a><i class="right angle icon divider"></i><a href="/haskell/" class="section">#Haskell</a><i class="right angle icon divider"></i><div class="active section">Nix recipes for Haskellers</div></div><div class="ui comments messages"><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?x=x&amp;version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#181764173" name="181764173"><div>2019-11-24 15:03:39</div></a></div><div class="text"><p>Hello, if you are looking to use Nix,  I'd appreciate your feedback on this article: <a href="https://www.srid.ca/haskell-nix.html" target="_blank" title="https://www.srid.ca/haskell-nix.html">https://www.srid.ca/haskell-nix.html</a></p></div></div></div><div class="comment"><a class="avatar"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#181794067" name="181794067"><div>2019-11-25 05:20:21</div></a></div><div class="text"><p>+ <span aria-label="100" class="emoji emoji-1f4af" role="img" title="100">:100:</span> Use of Oswald .</p></div></div></div><div class="comment"><a class="avatar"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#181794177" name="181794177"><div>2019-11-25 05:24:08</div></a></div><div class="text"><p>My biggest feedback is that it doesn't explain <em>why</em> I may want to do all of this extra effort. For someone that hasn't drunk the kool aid yet, this is important. It's probably worth mentioning something like obelisk thunks, because you end up needing something like that pretty quickly and it's nice to get told a pattern for it.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?x=x&amp;version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#181839314" name="181839314"><div>2019-11-25 16:37:54</div></a></div><div class="text"><p>Thanks! I'll add a short intro paragraph briefing on the why, with an external link to full rationale.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?x=x&amp;version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#181839409" name="181839409"><div>2019-11-25 16:38:36</div></a></div><div class="text"><p><span class="user-mention" data-user-id="251045">@Ben Kolera</span> Can you elaborate on the obelisk thunk thing? I've used obelisk thunks, but this article uses <code>source-overrides</code> and <code>builtins.fetchTarball</code> - is there more than can be talked about here?</p></div></div></div><div class="comment"><a class="avatar"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#181839706" name="181839706"><div>2019-11-25 16:41:24</div></a></div><div class="text"><p>That's really not fun to bump things when they need bumping. I often find I want something like <a href="https://github.com/benkolera/nix/tree/master/home-manager/home-overlays/stylish-haskell" target="_blank" title="https://github.com/benkolera/nix/tree/master/home-manager/home-overlays/stylish-haskell">https://github.com/benkolera/nix/tree/master/home-manager/home-overlays/stylish-haskell</a> even when I don't have obelisk.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/benkolera/nix/tree/master/home-manager/home-overlays/stylish-haskell" style="background-image: url(https://avatars1.githubusercontent.com/u/159197?s=400&amp;v=4)" target="_blank"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/benkolera/nix/tree/master/home-manager/home-overlays/stylish-haskell" target="_blank" title="benkolera/nix">benkolera/nix</a></div><div class="message_embed_description">Contribute to benkolera/nix development by creating an account on GitHub.</div></div></div></div></div></div><div class="comment"><a class="avatar"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#181839802" name="181839802"><div>2019-11-25 16:42:06</div></a></div><div class="text"><p>It's also github specific to use the tarball, lol.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?x=x&amp;version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#181840088" name="181840088"><div>2019-11-25 16:44:46</div></a></div><div class="text"><p>I think obelisk thunks would be overkill for non-reflex users. Is there a recommended tool/library to do this ? Maybe this? <a href="https://github.com/nmattia/niv" target="_blank" title="https://github.com/nmattia/niv">https://github.com/nmattia/niv</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/nmattia/niv" style="background-image: url(https://avatars1.githubusercontent.com/u/6930756?s=400&amp;v=4)" target="_blank"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/nmattia/niv" target="_blank" title="nmattia/niv">nmattia/niv</a></div><div class="message_embed_description">Easy dependency management for Nix projects. Contribute to nmattia/niv development by creating an account on GitHub.</div></div></div></div></div></div><div class="comment"><a class="avatar"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#181840157" name="181840157"><div>2019-11-25 16:45:36</div></a></div><div class="text"><p>I dunno. I want obelisk thunk everywhere. ob thunk unpack is so handy!!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?x=x&amp;version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#181840159" name="181840159"><div>2019-11-25 16:45:38</div></a></div><div class="text"><p>But it is good that you bring this POV, as I never thought of it! At minimum, I will modify the article to mention this pain point linking to some proposed solutions.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?x=x&amp;version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#181840291" name="181840291"><div>2019-11-25 16:46:45</div></a></div><div class="text"><p>Time to create an open source project (like <code>niv</code>) that extracts <code>hackGet</code> out of reflex-platform, and <code>ob thunk ..</code> out of obelisk <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span></p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?x=x&amp;version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#183251192" name="183251192"><div>2019-12-12 11:47:56</div></a></div><div class="text"><blockquote>
<p>Time to create an open source project (like <code>niv</code>) that extracts <code>hackGet</code> out of reflex-platform, and <code>ob thunk ..</code> out of obelisk <span aria-label="working on it" class="emoji emoji-1f6e0" role="img" title="working on it">:working_on_it:</span></p>
</blockquote>
<p>This <code>hackGet</code> is really handy. one thing that I still try to understand is re <code>ob thunk</code></p></div></div></div></div></div><div class="ui vertical footer segment"><a href="https://github.com/srid/zulip-archive">Powered by Haskell</a> | Questions? Contact <a href="https://www.srid.ca">srid</a></div></div></body></html>