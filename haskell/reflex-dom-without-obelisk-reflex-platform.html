<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="I want to integrate reflex-dom as a frontend project in my monorepo. Since I have to use Obelisk/Reflex-Platform, I have 2 nixpkgs set in my entire project. What I want to have is only 1 nixpkgs (20.09) and then build reflex/reflex-dom using the existence ghcjs in 20.09.
I have heard that there is a" name="description"><link href="https://funprog.srid.ca/haskell/reflex-dom-without-obelisk-reflex-platform.html" rel="canonical"><meta property="og:title" content="reflex-dom without obelisk/reflex-platform - Haskell"><meta property="og:site_name" content="Functional Programming Zulip Archive"><meta property="og:type" content="article"><meta property="og:article:section" content="Haskell"><meta property="og:article:modified_time" content="2020-11-17T10:36:46Z"><meta property="og:article:published_time" content="2020-11-15T09:53:16Z"><meta property="og:image" content="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"><title>reflex-dom without obelisk/reflex-platform - Haskell</title><style type="text/css">
div#thesite
{
  font-family   : "Open Sans", sans-serif;
  font-size     : 1em !important;
  margin-top    : 1em;
  margin-bottom : 1em;
}

div#thesite h1
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h2
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h3
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h4
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h5
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h6
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .ui.breadcrumb.rib .section
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .as-header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite code, pre, tt
{
  font-family : "SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace;
}

div#thesite .ui.breadcrumb.rib
{
  margin-bottom : 1em;
}



div#thesite .ui.comments.messages .comment .metadata a
{
  color : #808080;
}

div#thesite .ui.comments.messages .comment a.avatar img
{
  height : auto;
}

div#thesite .subtle
{
  color : #808080;
}


div#thesite .messages pre
{
  font-size : 85%;
  overflow  : auto;
  max-width : 100%;
}

div#thesite .messages .message_embed
{
  border-left  : solid 3px #808080;
  padding-left : 0.69999em;
}

div#thesite .messages .message_inline_image img
{
  max-width     : 100%;
  margin-bottom : 1em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans&amp;display=swap" rel="stylesheet"></head><body><div id="thesite" class="ui text container"><div class="ui violet inverted top attached center aligned segment"><h1 class="ui huge header">reflex-dom without obelisk/reflex-platform - Haskell</h1></div><div class="ui attached segment"><div class="ui message"><p>Welcome to the Functional Programming Zulip Chat Archive. You can join the chat <a href="https://funprog.zulipchat.com">here</a>.</p></div><div class="ui breadcrumb rib"><a href="/" class="section">Home</a><i class="right angle icon divider"></i><a href="/haskell/" class="section">#Haskell</a><i class="right angle icon divider"></i><div class="active section">reflex-dom without obelisk/reflex-platform</div></div><div class="ui comments messages"><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#216782931" name="216782931"><div>2020-11-15 09:53:16</div></a></div><div class="text"><p>I want to integrate reflex-dom as a frontend project in my monorepo. Since I have to use Obelisk/Reflex-Platform, I have 2 nixpkgs set in my entire project. What I want to have is only 1 nixpkgs (20.09) and then build reflex/reflex-dom using the existence ghcjs in 20.09.</p>
<p>I have heard that there is a little changes made by reflex-platform wrt to GHCJS. Iirc it is regarding <code>JsString</code>. Is that all?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216809051" name="216809051"><div>2020-11-15 19:24:05</div></a></div><div class="text"><p>if frontend == ghcjs, no - you are better off staying with reflex-platform. if frontend == ghc (jsaddle-warp or gtk+), then just use the one in nixpkgs.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216809059" name="216809059"><div>2020-11-15 19:24:17</div></a></div><div class="text"><p><a href="https://ka.srid.ca/"><code>ka</code></a> is based on the latter</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#216817082" name="216817082"><div>2020-11-15 22:02:35</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="251311">Sridhar Ratnakumar</span> <a href="#narrow/stream/201385-Haskell/topic/reflex-dom.20without.20obelisk.2Freflex-platform/near/216809051">said</a>:</p>
<blockquote>
<p>if frontend == ghcjs, no - you are better off staying with reflex-platform. if frontend == ghc (jsaddle-warp or gtk+), then just use the one in nixpkgs.</p>
</blockquote>
<p>Yeah after diving into obelisk + reflex-platform, I'll stick to them. It's too much goodies in there that are worthy for the project.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#216880051" name="216880051"><div>2020-11-16 14:46:10</div></a></div><div class="text"><p>There is also <a href="https://github.com/srid/reflex-stone">https://github.com/srid/reflex-stone</a> if you want only "ob run" (and full build) workflow from obelisk, but not the rest including backend.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/srid/reflex-stone" style="background-image: url(https://avatars2.githubusercontent.com/u/3998?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/srid/reflex-stone" title="srid/reflex-stone">srid/reflex-stone</a></div><div class="message_embed_description">Template repository for writing GHCJS/Reflex apps targeting static sites without a backend. - srid/reflex-stone</div></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#216952241" name="216952241"><div>2020-11-17 00:28:31</div></a></div><div class="text"><p>I've seen that and also your rhyolite template (I also have project with JupyterWith combined with rhyolite using the same way you did).</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/30489c253fb604dad7c3d547e3099d8c"></a><div class="content"><a class="author">Matthias Putz</a><div class="metadata"><a href="#216986810" name="216986810"><div>2020-11-17 10:32:28</div></a></div><div class="text"><p>Uh, can you <span class="user-mention" data-user-id="251394">@Rizary</span> elaborate on the <code>JupyterWith</code> thing? You mean Jupyter Notebooks, what is your project doing? (sounds veery interesting)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#216987150" name="216987150"><div>2020-11-17 10:36:25</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="255639">Matthias Putz</span> <a href="#narrow/stream/201385-Haskell/topic/reflex-dom.20without.20obelisk.2Freflex-platform/near/216986810">said</a>:</p>
<blockquote>
<p>Uh, can you <span class="user-mention silent" data-user-id="251394">Rizary</span> elaborate on the <code>JupyterWith</code> thing? You mean Jupyter Notebooks, what is your project doing? (sounds veery interesting)</p>
</blockquote>
<p>It's an old project. I attempt to integrate <code>JupyterWith</code> with obelisk platform. So we can code reflex-dom inside jupyter (the first aim is that) also include hasktorch in it.</p>
<p>My first idea is I want to create minimum example (like the one in pytorch tutorial) that creates flask based app with pytorch. Instead, I want to have fullstack haskell with hasktorch in it. my current state is only able to run jupyterWith, but I haven't got the time to continue developing obelisk + hasktorch part.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/8084ff35e892945a460a7ed9885325c7804e1b87?version=2"></a><div class="content"><a class="author">Rizary</a><div class="metadata"><a href="#216987163" name="216987163"><div>2020-11-17 10:36:46</div></a></div><div class="text"><p><code>jupyterWith</code> refers to tweag's project here <a href="https://github.com/tweag/jupyterWith">https://github.com/tweag/jupyterWith</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/tweag/jupyterWith" style="background-image: url(https://avatars3.githubusercontent.com/u/6057932?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/tweag/jupyterWith" title="tweag/jupyterWith">tweag/jupyterWith</a></div><div class="message_embed_description">declarative and reproducible Jupyter environments - powered by Nix - tweag/jupyterWith</div></div></div></div></div></div></div></div><div class="ui vertical footer segment"><a href="https://github.com/srid/zulip-archive">Powered by Haskell</a> | Questions? Contact <a href="https://www.srid.ca">srid</a></div></div></body></html>