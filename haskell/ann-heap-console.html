<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="I was working on this tool for inspecting values at runtime recently - https://hackage.haskell.org/package/heap-console
Basically, it let&#39;s you pause at presence of special combinators, starting console which you can use to inspect and force custom bindings.
If anyone wants some more powerful altern" name="description"><link href="https://funprog.srid.ca/haskell/ann-heap-console.html" rel="canonical"><meta property="og:title" content="[ANN] heap-console - Haskell"><meta property="og:site_name" content="Functional Programming Zulip Archive"><meta property="og:type" content="article"><meta property="og:article:section" content="Haskell"><meta property="og:article:modified_time" content="2020-11-27T14:02:12Z"><meta property="og:article:published_time" content="2020-11-21T10:54:33Z"><meta property="og:image" content="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"><title>[ANN] heap-console - Haskell</title><style type="text/css">
div#thesite
{
  font-family   : "Open Sans", sans-serif;
  font-size     : 1em !important;
  margin-top    : 1em;
  margin-bottom : 1em;
}

div#thesite h1
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h2
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h3
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h4
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h5
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h6
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .ui.breadcrumb.rib .section
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .as-header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite code, pre, tt
{
  font-family : "SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace;
}

div#thesite .ui.breadcrumb.rib
{
  margin-bottom : 1em;
}



div#thesite .ui.comments.messages .comment .metadata a
{
  color : #808080;
}

div#thesite .ui.comments.messages .comment a.avatar img
{
  height : auto;
}

div#thesite .subtle
{
  color : #808080;
}


div#thesite .messages pre
{
  font-size : 85%;
  overflow  : auto;
  max-width : 100%;
}

div#thesite .messages .message_embed
{
  border-left  : solid 3px #808080;
  padding-left : 0.69999em;
}

div#thesite .messages .message_inline_image img
{
  max-width     : 100%;
  margin-bottom : 1em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans&amp;display=swap" rel="stylesheet"></head><body><div id="thesite" class="ui text container"><div class="ui violet inverted top attached center aligned segment"><h1 class="ui huge header">[ANN] heap-console - Haskell</h1></div><div class="ui attached segment"><div class="ui message"><p>Welcome to the Functional Programming Zulip Chat Archive. You can join the chat <a href="https://funprog.zulipchat.com">here</a>.</p></div><div class="ui breadcrumb rib"><a href="/" class="section">Home</a><i class="right angle icon divider"></i><a href="/haskell/" class="section">#Haskell</a><i class="right angle icon divider"></i><div class="active section">[ANN] heap-console</div></div><div class="ui comments messages"><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217496604" name="217496604"><div>2020-11-21 10:54:33</div></a></div><div class="text"><p>I was working on this tool for inspecting values at runtime recently - <a href="https://hackage.haskell.org/package/heap-console">https://hackage.haskell.org/package/heap-console</a><br>
Basically, it let's you pause at presence of special combinators, starting console which you can use to inspect and force custom bindings.<br>
If anyone wants some more powerful alternative to <code>traceShow</code>, you can give it a go - personally I'm excited to try it out in compiler-ish stuff where I often want to explore big, nested values to find out what went wrong. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217496854" name="217496854"><div>2020-11-21 11:02:01</div></a></div><div class="text"><p>cool!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217496904" name="217496904"><div>2020-11-21 11:03:03</div></a></div><div class="text"><p><code>Bindings can be automatically created with functions like inspectD</code> what does <code>Bindings</code> mean here?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217497646" name="217497646"><div>2020-11-21 11:25:44</div></a></div><div class="text"><p>They're just values bound to some names inside of console<br>
Will make it more clear in docs, thanks for mentioning!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217497877" name="217497877"><div>2020-11-21 11:32:35</div></a></div><div class="text"><p>so if I use <code>inspectD 42</code> what binding is automatically created? it might be a good idea to show this in the example for <code>inspectD</code></p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217497909" name="217497909"><div>2020-11-21 11:33:41</div></a></div><div class="text"><p>Yeah, it gets bound to <code>it</code> as mentioned in <code>inspect</code>s description</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217497957" name="217497957"><div>2020-11-21 11:34:14</div></a></div><div class="text"><p>I guess I will move longer descriptions to <code>D</code> versions and add queries for <code>it</code> in examples, thanks!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217497984" name="217497984"><div>2020-11-21 11:35:41</div></a></div><div class="text"><p>ah I guess what was confusing me is that I expected the <code>inspectD</code> version to be the one creating bindings, as opposed to <code>inspect</code>, because this is the first time <code>inspectD</code> is mentioned in the docs and it's in the context of bindings</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217497988" name="217497988"><div>2020-11-21 11:36:01</div></a></div><div class="text"><p>something that would be really cool is a pattern synonym that you can add to a particular case match and get all the bindings from that case match in the "console" automatically</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217498028" name="217498028"><div>2020-11-21 11:36:10</div></a></div><div class="text"><p>but I'm not sure this is possible without a source plugin or something</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217498121" name="217498121"><div>2020-11-21 11:39:12</div></a></div><div class="text"><p><code>D</code> is for <code>Data</code> - they otherwise behave in the same way</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217501017" name="217501017"><div>2020-11-21 13:02:38</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="254032">Georgi Lyubenov // googleson78</span> <a href="#narrow/stream/201385-Haskell/topic/.5BANN.5D.20heap-console/near/217497988">said</a>:</p>
<blockquote>
<p>something that would be really cool is a pattern synonym that you can add to a particular case match and get all the bindings from that case match in the "console" automatically</p>
</blockquote>
<p>That's a cool idea - maybe I could make quasiquoter like</p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="p">[</span><span class="n">i</span><span class="o">|</span> <span class="o">...</span> <span class="o">|</span><span class="p">]</span>
</code></pre></div>
<p>that works in both expressions and patterns</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217501440" name="217501440"><div>2020-11-21 13:14:48</div></a></div><div class="text"><p>well I kind of realised my original suggestion is easily doable as is, no? the issue is more that you need a way to access the "fields" of the constructor if it's not a record type</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217501441" name="217501441"><div>2020-11-21 13:14:52</div></a></div><div class="text"><p>e.g. indexing?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217501500" name="217501500"><div>2020-11-21 13:16:12</div></a></div><div class="text"><p>e.g. </p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="nf">pattern</span> <span class="kt">InspectD</span> <span class="ow">::</span> <span class="kt">Data</span> <span class="n">a</span> <span class="ow">=&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">a</span>
<span class="nf">pattern</span> <span class="kt">InspectD</span> <span class="n">x</span> <span class="ow">&lt;-</span> <span class="p">(</span><span class="n">inspectD</span> <span class="ow">-&gt;</span> <span class="n">x</span><span class="p">)</span>
</code></pre></div>
<p>and now you can write</p>
<div class="codehilite" data-code-language="Haskell"><pre><span></span><code><span class="kr">data</span> <span class="kt">Person</span> <span class="ow">=</span> <span class="kt">Person</span> <span class="p">{</span><span class="n">name</span> <span class="ow">::</span> <span class="kt">String</span><span class="p">}</span>
<span class="nf">x</span> <span class="ow">::</span> <span class="kt">Person</span>
<span class="kr">case</span> <span class="n">x</span> <span class="kr">of</span>
  <span class="kt">InspectD</span> <span class="p">(</span><span class="kt">Person</span> <span class="o">...</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="o">...</span>
</code></pre></div>
<p>and</p>
<div class="codehilite"><pre><span></span><code>it.name
</code></pre></div></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217501501" name="217501501"><div>2020-11-21 13:16:13</div></a></div><div class="text"><p>right?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217501513" name="217501513"><div>2020-11-21 13:16:40</div></a></div><div class="text"><p>Yeah - I thought you mean binding variables introduced by pattern</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217501523" name="217501523"><div>2020-11-21 13:17:23</div></a></div><div class="text"><p>though I wonder whether it's big win over <code>(inspectD -&gt; Person ...)</code> <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217501529" name="217501529"><div>2020-11-21 13:17:38</div></a></div><div class="text"><p>yeah I guess the only thing missing is reusing the actual names you've bound in the program</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217501572" name="217501572"><div>2020-11-21 13:18:06</div></a></div><div class="text"><p>Yeah, that's hard without TH or plugin</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#217504379" name="217504379"><div>2020-11-21 14:39:55</div></a></div><div class="text"><p>very interesting!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#217513411" name="217513411"><div>2020-11-21 18:46:07</div></a></div><div class="text"><p>This is super cool. Looking forward to trying it out in a project!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217516112" name="217516112"><div>2020-11-21 19:55:40</div></a></div><div class="text"><p>Thank you guys for feedback! One question - do you think it would be better to preserve all bound values between console runs? (not just those bound with <code>evidence</code>-like combinators)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#217516976" name="217516976"><div>2020-11-21 20:16:05</div></a></div><div class="text"><p>I would say no, as it could get expensive in some apps. Having the ability to optionally do that might be cool, but I'd default to no.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217517370" name="217517370"><div>2020-11-21 20:24:05</div></a></div><div class="text"><p>Hmm, thing is, this basically only changes behaviour of <code>it</code> and binds created in console<br>
I guess binding lots of things with <code>evidence</code> is more probable, and in that case, I could implement the opposite - cleaning of binds when closing console</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217517400" name="217517400"><div>2020-11-21 20:25:06</div></a></div><div class="text"><p>But if that's going to be an option, I probably need to start thinking about persistent configuration - how would that work in app that may be tested through <code>cabal run</code> or from completely different location?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#217517881" name="217517881"><div>2020-11-21 20:36:31</div></a></div><div class="text"><p>I have no idea what black magic you use for <code>evidence</code>, but couldn't you use that to have a function that turns a flag on or off?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#217518051" name="217518051"><div>2020-11-21 20:40:31</div></a></div><div class="text"><p>it's an <code>IORef</code>containing a <code>Map</code>!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217518073" name="217518073"><div>2020-11-21 20:41:08</div></a></div><div class="text"><p>a noinline global <code>IORef</code>*</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#217518160" name="217518160"><div>2020-11-21 20:43:37</div></a></div><div class="text"><p>so to answer <span class="user-mention" data-user-id="250750">@Vladimir Ciobanu</span> 's question: yes!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4d7e5bf37281d41829f7b8a95d15292ff274c327?version=2"></a><div class="content"><a class="author">Vladimir Ciobanu</a><div class="metadata"><a href="#217518165" name="217518165"><div>2020-11-21 20:43:59</div></a></div><div class="text"><p>Oh, lol. An actual global variable. Neato. So why not stick the option in there, and provide on/off helpers.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217518516" name="217518516"><div>2020-11-21 20:53:02</div></a></div><div class="text"><p>I'm not that worried about adding bindings based on control flow - but I feel more uneasy about doing so with configuration <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217518526" name="217518526"><div>2020-11-21 20:53:27</div></a></div><div class="text"><p>Not like this is meant for something other than debugging, but still</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217565845" name="217565845"><div>2020-11-22 19:28:52</div></a></div><div class="text"><p>Version on GitLab now preserves state across console runs - and I've added option to clean bindings on console exit (now it can be at least slightly useful)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217565878" name="217565878"><div>2020-11-22 19:29:55</div></a></div><div class="text"><p>BTW, what do you think about searching for <code>.heap-console</code> conf file in location of executable?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217565931" name="217565931"><div>2020-11-22 19:30:16</div></a></div><div class="text"><p>And <code>:save</code> command that dumps settings there</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217566933" name="217566933"><div>2020-11-22 19:55:01</div></a></div><div class="text"><p>are there any other settings?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217566957" name="217566957"><div>2020-11-22 19:55:49</div></a></div><div class="text"><p>(also, I'd recommend in the location of the executable, and also recursively in parents, so it's easier to use with something like stack)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217567011" name="217567011"><div>2020-11-22 19:56:56</div></a></div><div class="text"><div class="codehilite"><pre><span></span><code>heap-console&gt; :show
cleanOnExit = False
depth = 16
prompt = &quot;heap-console&gt; &quot;
showTypes = False
strict = False
</code></pre></div></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217567019" name="217567019"><div>2020-11-22 19:57:27</div></a></div><div class="text"><p><span class="user-mention silent" data-user-id="254032">Georgi Lyubenov // googleson78</span> <a href="#narrow/stream/201385-Haskell/topic/.5BANN.5D.20heap-console/near/217566957">said</a>:</p>
<blockquote>
<p>(also, I'd recommend in the location of the executable, and also recursively in parents, so it's easier to use with something like stack)</p>
</blockquote>
<p>Sounds reasonable - will try it</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217661749" name="217661749"><div>2020-11-23 18:01:21</div></a></div><div class="text"><div class="codehilite"><pre><span></span><code>&gt; inspection
[Entering heap-view - use `:help` for more information]
[Reading configuration at `/home/thematten/.heap-console`]
heap-console&gt; :show
cleanOnExit = False
depth = 100
prompt = &quot;heap-console&gt; &quot;
showTypes = False
strict = False
heap-console&gt; :set depth 42
heap-console&gt; :set prompt &quot;?&gt; &quot;
?&gt; :show
cleanOnExit = False
depth = 42
prompt = &quot;?&gt; &quot;
showTypes = False
strict = False
?&gt; :saveConfig
Saved configuration to `/home/thematten/.heap-console`
?&gt; ^D
[Exiting heap-view]
&gt; ^D
Leaving GHCi.
$&gt; cat ~/.heap-console
cleanOnExit = False
depth = 42
prompt = &quot;?&gt; &quot;
showTypes = False
strict = False
</code></pre></div></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217662876" name="217662876"><div>2020-11-23 18:10:10</div></a></div><div class="text"><p><code>prompt = "heap-console&gt; "</code><br>
hehe, nice</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217662920" name="217662920"><div>2020-11-23 18:10:38</div></a></div><div class="text"><p>this "global" heap-console config seems to have turned out pretty nice for usage</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#217662937" name="217662937"><div>2020-11-23 18:10:49</div></a></div><div class="text"><p>put a universal one in home and forget about it</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#217664802" name="217664802"><div>2020-11-23 18:27:21</div></a></div><div class="text"><p>Next up on list are <code>Generic</code> support and refactoring of console - and I should really start writing tests <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#218033541" name="218033541"><div>2020-11-26 19:40:21</div></a></div><div class="text"><p>I've pushed new version on GitLab with refactored console that should be easier to extend and should make it easier to support auto-complete - once I finish <code>Generic</code> I'll make a new release and start working on tests</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#218095235" name="218095235"><div>2020-11-27 14:01:25</div></a></div><div class="text"><p><span class="user-mention" data-user-id="254032">@Georgi Lyubenov // googleson78</span> I've just realized why <code>Generic</code> may be slightly more problematic - it hides actual laziness of input value, so lazy indexing isn't very informative</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#218095332" name="218095332"><div>2020-11-27 14:02:12</div></a></div><div class="text"><p>I guess I'll mention it as a drawback, similarly to problems with non-<code>Data</code> combinators</p></div></div></div></div></div><div class="ui vertical footer segment"><a href="https://github.com/srid/zulip-archive">Powered by Haskell</a> | Questions? Contact <a href="https://www.srid.ca">srid</a></div></div></body></html>