<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="What&#39;s the reason &quot;tagless final&quot; is called that? Is it because the actions don&#39;t have &quot;tags&quot; (i.e. supposedly no runtime repr.), and instead are just instantiated at one point in the end before being run (&quot;final&quot;, via transformers)?" name="description"><link href="https://funprog.srid.ca/haskell/tagless-final-name.html" rel="canonical"><meta property="og:title" content="Tagless final name - Haskell"><meta property="og:site_name" content="Functional Programming Zulip Archive"><meta property="og:type" content="article"><meta property="og:article:section" content="Haskell"><meta property="og:article:modified_time" content="2021-05-16T10:26:19Z"><meta property="og:article:published_time" content="2021-05-10T09:29:45Z"><title>Tagless final name - Haskell</title><style type="text/css">
div#thesite
{
  font-family   : "Open Sans", sans-serif;
  font-size     : 1em !important;
  margin-top    : 1em;
  margin-bottom : 1em;
}

div#thesite h1
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h2
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h3
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h4
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h5
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h6
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .ui.breadcrumb.rib .section
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .as-header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite code, pre, tt
{
  font-family : "SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace;
}

div#thesite .ui.breadcrumb.rib
{
  margin-bottom : 1em;
}



div#thesite .ui.comments.messages .comment .metadata a
{
  color : #808080;
}

div#thesite .ui.comments.messages .comment a.avatar img
{
  height : auto;
}

div#thesite .subtle
{
  color : #808080;
}


div#thesite .messages pre
{
  font-size : 85%;
  overflow  : auto;
  max-width : 100%;
}

div#thesite .messages .message_embed
{
  border-left  : solid 3px #808080;
  padding-left : 0.69999em;
}

div#thesite .messages .message_inline_image img
{
  max-width     : 100%;
  margin-bottom : 1em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans&amp;display=swap" rel="stylesheet"></head><body><div id="thesite" class="ui text container"><div class="ui violet inverted top attached center aligned segment"><h1 class="ui huge header">Tagless final name - Haskell</h1></div><div class="ui attached segment"><div class="ui message"><p>Welcome to the Functional Programming Zulip Chat Archive. You can join the chat <a href="https://funprog.zulipchat.com">here</a>.</p></div><div class="ui breadcrumb rib"><a href="/" class="section">Home</a><i class="right angle icon divider"></i><a href="/haskell/" class="section">#Haskell</a><i class="right angle icon divider"></i><div class="active section">Tagless final name</div></div><div class="ui comments messages"><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238111237" name="238111237"><div>2021-05-10 09:29:45</div></a></div><div class="text"><p>What's the reason "tagless final" is called that? Is it because the actions don't have "tags" (i.e. supposedly no runtime repr.), and instead are just instantiated at one point in the end before being run ("final", via transformers)?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238111273" name="238111273"><div>2021-05-10 09:30:02</div></a></div><div class="text"><p>(which seems to not currently be true for <code>mtl</code>)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#238114070" name="238114070"><div>2021-05-10 09:53:27</div></a></div><div class="text"><p>As far as "final" goes, I remember something about it being slightly arbitrary name for "function-based representation / Church-like encoding" in comparison to "initial" encoding which uses normal data constructors</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238114531" name="238114531"><div>2021-05-10 09:56:41</div></a></div><div class="text"><p>how is mtl related to Church encoding?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238114607" name="238114607"><div>2021-05-10 09:57:21</div></a></div><div class="text"><p>(also, I know the term is more popular in scala, maybe it means something different there? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> )</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#238115603" name="238115603"><div>2021-05-10 10:06:22</div></a></div><div class="text"><p><code>MonadSomething m =&gt; m a</code> is in a sense final encoding of program represented as function taking <code>MonadSomething</code> dictionary and calling it's methods as constructors of actions inside of the program<br>
Compare it to <code>Free Something a</code>, where <code>Something</code> is some <code>Functor</code> with the actions as normal constructors</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/20a04d823b7c3891d78ca5f6a188ccd0e4fc5e3d?version=2"></a><div class="content"><a class="author">TheMatten</a><div class="metadata"><a href="#238116432" name="238116432"><div>2021-05-10 10:15:00</div></a></div><div class="text"><p>Hmm, or maybe Scott encoding would be a better fit</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238132747" name="238132747"><div>2021-05-10 12:36:33</div></a></div><div class="text"><p><a href="https://peddie.github.io/encodings/encodings-text.html">https://peddie.github.io/encodings/encodings-text.html</a></p>
<p>this looks like it explores this question specifically</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238133339" name="238133339"><div>2021-05-10 12:41:38</div></a></div><div class="text"><p>even features a quote by <span class="user-mention" data-user-id="251045">@Ben Kolera</span> !</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238134929" name="238134929"><div>2021-05-10 12:52:04</div></a></div><div class="text"><blockquote>
<p>We can do a similar trick to the Church encoding of lists and represent our data constructors as functions. This is not a Church encoding; it's called a final encoding for reasons unknown to me. The version using explicit constructors is called an initial encoding.</p>
</blockquote>
<p>so it's like Church, but different</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/83d70d23ca1b42464032f434141b1503a290a7ec?version=2"></a><div class="content"><a class="author">Steven Shaw</a><div class="metadata"><a href="#238409136" name="238409136"><div>2021-05-12 01:53:29</div></a></div><div class="text"><p>It's best to read the original sources to find answers like this: "Finally Tagless, Partially Evaluated".</p>
<p><a href="http://okmij.org/ftp/tagless-final/#tagless-final">http://okmij.org/ftp/tagless-final/#tagless-final</a></p>
<p>I found an answer by one of the authors of the original paper:</p>
<blockquote>
<p>The 'final' in 'finally tagless, partially evaluated' (the original paper that you skipped over) is an adjective qualifying 'tagless', and is a pun on partial evaluation's tagging-untagging problem. It does allude to final semantics (since 'final tagless' is really specifying an algebra via its polymorphic fold in a way that prevents 'peeking', unlike all initial algebra based methods) because all you can do is to call the fold. But it's still not 'final' in any reasonable way, even though there's dualities galore lurking around the corner.</p>
</blockquote>
<p><a href="https://cstheory.stackexchange.com/questions/45565/what-category-are-tagless-final-algebras-final-in#comment101261_45565">https://cstheory.stackexchange.com/questions/45565/what-category-are-tagless-final-algebras-final-in#comment101261_45565</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://cstheory.stackexchange.com/questions/45565/what-category-are-tagless-final-algebras-final-in#comment101261_45565" style="background-image: url(https://cdn.sstatic.net/Sites/cstheory/Img/apple-touch-icon@2.png?v=da033b2b5220)"></a><div class="data-container"><div class="message_embed_title"><a href="https://cstheory.stackexchange.com/questions/45565/what-category-are-tagless-final-algebras-final-in#comment101261_45565" title="What category are Tagless Final Algebras final In?">What category are Tagless Final Algebras final In?</a></div><div class="message_embed_description">The Haskell and Scala community have been very enamored recently with what they call tagless final 'pattern' of programming. These are referenced as dual to initial free algebras, so I was wonderin...</div></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238442855" name="238442855"><div>2021-05-12 09:00:50</div></a></div><div class="text"><p>what other "initial algebra methods" are there?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238442950" name="238442950"><div>2021-05-12 09:01:40</div></a></div><div class="text"><p>besides <code>Free</code></p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238443090" name="238443090"><div>2021-05-12 09:02:48</div></a></div><div class="text"><p>I think that's "the definition" of an initial algebra thingy</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238443102" name="238443102"><div>2021-05-12 09:02:54</div></a></div><div class="text"><p>so, none?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238443179" name="238443179"><div>2021-05-12 09:03:20</div></a></div><div class="text"><p>but Steven's quote says "all initial algebra based methods"</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238443216" name="238443216"><div>2021-05-12 09:03:45</div></a></div><div class="text"><p>like, when you're defining a datatype formally (which is what adts in hs are), you're defining it as something generated as a fixpoint (so Free)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238443348" name="238443348"><div>2021-05-12 09:04:43</div></a></div><div class="text"><p>ADTs in hs are formally defined datatypes?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238443364" name="238443364"><div>2021-05-12 09:04:58</div></a></div><div class="text"><p>what does that mean</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238443411" name="238443411"><div>2021-05-12 09:05:22</div></a></div><div class="text"><p>FDDTs</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238443842" name="238443842"><div>2021-05-12 09:09:13</div></a></div><div class="text"><p>I meant to say that if you want to formalise what an "adt"  (in the hs sense) means in mathematics, you would (traditionally) do so via fixpoints</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238443859" name="238443859"><div>2021-05-12 09:09:24</div></a></div><div class="text"><p>(as you also do with recursive functions)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/7334dc60b6aef6a75cd9284126231f13c76926a5?version=6"></a><div class="content"><a class="author">Torsten Schmits</a><div class="metadata"><a href="#238443891" name="238443891"><div>2021-05-12 09:09:49</div></a></div><div class="text"><p>ah</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/520889f20a2c66a8f4bd5be6f37d2923"></a><div class="content"><a class="author">Asad Saeeduddin</a><div class="metadata"><a href="#238941627" name="238941627"><div>2021-05-16 02:14:59</div></a></div><div class="text"><p><span class="user-mention" data-user-id="254032">@Georgi Lyubenov // googleson78</span> did you maybe mean <code>Fix</code> here?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/1114fd8de67671f83d3a3ef7594b1950"></a><div class="content"><a class="author">Georgi Lyubenov // googleson78</a><div class="metadata"><a href="#238966750" name="238966750"><div>2021-05-16 10:26:19</div></a></div><div class="text"><p>yup! thanks</p></div></div></div></div></div><div class="ui vertical footer segment"><a href="https://github.com/srid/zulip-archive">Powered by Haskell</a> | Questions? Contact <a href="https://www.srid.ca">srid</a></div></div></body></html>