<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="I&#39;m starting to feel a little latency when building the zettelkatsen (with &gt;200 zettels), its very bearable but would it be possible to cache the zettel graph so that neuron doesn&#39;t need to build the entire zettelkasten every time? Not sure how that would work though" name="description"><link href="https://funprog.srid.ca/neuron/caching-the-zettel-graph.html" rel="canonical"><meta property="og:title" content="Caching the zettel graph - Neuron"><meta property="og:site_name" content="Functional Programming Zulip Archive"><meta property="og:type" content="article"><meta property="og:article:section" content="Neuron"><meta property="og:article:modified_time" content="2020-08-06T14:24:27Z"><meta property="og:article:published_time" content="2020-07-29T11:05:00Z"><title>Caching the zettel graph - Neuron</title><style type="text/css">
div#thesite
{
  font-family   : "Open Sans", sans-serif;
  font-size     : 1em !important;
  margin-top    : 1em;
  margin-bottom : 1em;
}

div#thesite h1
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h2
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h3
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h4
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h5
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h6
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .ui.breadcrumb.rib .section
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .as-header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite code, pre, tt
{
  font-family : "SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace;
}

div#thesite .ui.breadcrumb.rib
{
  margin-bottom : 1em;
}



div#thesite .ui.comments.messages .comment .metadata a
{
  color : #808080;
}

div#thesite .ui.comments.messages .comment a.avatar img
{
  height : auto;
}

div#thesite .subtle
{
  color : #808080;
}


div#thesite .messages pre
{
  font-size : 85%;
  overflow  : auto;
  max-width : 100%;
}

div#thesite .messages .message_embed
{
  border-left  : solid 3px #808080;
  padding-left : 0.69999em;
}

div#thesite .messages .message_inline_image img
{
  max-width     : 100%;
  margin-bottom : 1em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans&amp;display=swap" rel="stylesheet"></head><body><div id="thesite" class="ui text container"><div class="ui violet inverted top attached center aligned segment"><h1 class="ui huge header">Caching the zettel graph - Neuron</h1></div><div class="ui attached segment"><div class="ui message"><p>Welcome to the Functional Programming Zulip Chat Archive. You can join the chat <a href="https://funprog.zulipchat.com">here</a>.</p></div><div class="ui breadcrumb rib"><a href="/" class="section">Home</a><i class="right angle icon divider"></i><a href="/neuron/" class="section">#Neuron</a><i class="right angle icon divider"></i><div class="active section">Caching the zettel graph</div></div><div class="ui comments messages"><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/39430c3a1d5705ad377af9607e67d98c"></a><div class="content"><a class="author">felko</a><div class="metadata"><a href="#205342182" name="205342182"><div>2020-07-29 11:05:00</div></a></div><div class="text"><p>I'm starting to feel a little latency when building the zettelkatsen (with &gt;200 zettels), its very bearable but would it be possible to cache the zettel graph so that neuron doesn't need to build the entire zettelkasten every time? Not sure how that would work though</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#205352187" name="205352187"><div>2020-07-29 12:59:56</div></a></div><div class="text"><p>Yes, assuming that's where the bottleneck is from the profiling data.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#205384294" name="205384294"><div>2020-07-29 17:02:53</div></a></div><div class="text"><p>I had made a note in my mind that these kinds of optimization will eventually have to be done as the zettelkasten grows.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#206146757" name="206146757"><div>2020-08-06 14:17:08</div></a></div><div class="text"><p><span class="user-mention" data-user-id="276419">@felko</span> Can you give this branch a try in neuron-mode and let me know if that resolves the performance issues?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#206146773" name="206146773"><div>2020-08-06 14:17:20</div></a></div><div class="text"><p>Use <code>neuron query --cached</code>, which should be up to date as long as rib is running somewhere.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=2"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#206146813" name="206146813"><div>2020-08-06 14:17:42</div></a></div><div class="text"><p>A proper performance fix will be done later (incremental patching of graph in rib server)</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/39430c3a1d5705ad377af9607e67d98c"></a><div class="content"><a class="author">felko</a><div class="metadata"><a href="#206147181" name="206147181"><div>2020-08-06 14:20:06</div></a></div><div class="text"><p>I'll have time to work on this in about two weeks, as I am currently in the middle of an exam session</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/39430c3a1d5705ad377af9607e67d98c"></a><div class="content"><a class="author">felko</a><div class="metadata"><a href="#206147802" name="206147802"><div>2020-08-06 14:24:27</div></a></div><div class="text"><p>ping me if i forget, my exams end on august 11</p></div></div></div></div></div><div class="ui vertical footer segment"><a href="https://github.com/srid/zulip-archive">Powered by Haskell</a> | Questions? Contact <a href="https://www.srid.ca">srid</a></div></div></body></html>