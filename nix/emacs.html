<html lang="en"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="Wow, it&#39;s much easier than I had imagined to create a cut down but doom / spacemacs like emacs setup from raw nix emacsPackages, homemanager and not too much use-package based elisp. What I have doesn&#39;t replace everything that I had in spacemacs yet, but it shouldn&#39;t be too hard to add in as I go. L" name="description"><link href="https://funprog.srid.ca/nix/emacs.html" rel="canonical"><meta property="og:title" content="Emacs - Nix"><meta property="og:site_name" content="Functional Programming Zulip Archive"><meta property="og:type" content="article"><meta property="og:article:section" content="Nix"><meta property="og:article:modified_time" content="2021-01-26T15:23:02Z"><meta property="og:article:published_time" content="2020-05-11T02:49:56Z"><title>Emacs - Nix</title><style type="text/css">
div#thesite
{
  font-family   : "Open Sans", sans-serif;
  font-size     : 1em !important;
  margin-top    : 1em;
  margin-bottom : 1em;
}

div#thesite h1
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h2
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h3
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h4
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h5
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite h6
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .ui.breadcrumb.rib .section
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite .as-header
{
  font-family : "Roboto", sans-serif;
  line-height : 1.19999em;
}

div#thesite code, pre, tt
{
  font-family : "SFMono-Regular","Menlo","Monaco","Consolas","Liberation Mono","Courier New", monospace;
}

div#thesite .ui.breadcrumb.rib
{
  margin-bottom : 1em;
}



div#thesite .ui.comments.messages .comment .metadata a
{
  color : #808080;
}

div#thesite .ui.comments.messages .comment a.avatar img
{
  height : auto;
}

div#thesite .subtle
{
  color : #808080;
}


div#thesite .messages pre
{
  font-size : 85%;
  overflow  : auto;
  max-width : 100%;
}

div#thesite .messages .message_embed
{
  border-left  : solid 3px #808080;
  padding-left : 0.69999em;
}

div#thesite .messages .message_inline_image img
{
  max-width     : 100%;
  margin-bottom : 1em;
}


/* Generated with Clay, http://fvisser.nl/clay */</style><link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" rel="stylesheet"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans&amp;display=swap" rel="stylesheet"></head><body><div id="thesite" class="ui text container"><div class="ui violet inverted top attached center aligned segment"><h1 class="ui huge header">Emacs - Nix</h1></div><div class="ui attached segment"><div class="ui message"><p>Welcome to the Functional Programming Zulip Chat Archive. You can join the chat <a href="https://funprog.zulipchat.com">here</a>.</p></div><div class="ui breadcrumb rib"><a href="/" class="section">Home</a><i class="right angle icon divider"></i><a href="/nix/" class="section">#Nix</a><i class="right angle icon divider"></i><div class="active section">Emacs</div></div><div class="ui comments messages"><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/a3a40b5b547344370d45ad0f805b4d81"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#197094299" name="197094299"><div>2020-05-11 02:49:56</div></a></div><div class="text"><p>Wow, it's much easier than I had imagined to create a cut down but doom / spacemacs like emacs setup from raw nix emacsPackages, homemanager and not too much use-package based elisp. What I have doesn't replace everything that I had in spacemacs yet, but it shouldn't be too hard to add in as I go. Lovely stuff!</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#197094346" name="197094346"><div>2020-05-11 02:50:56</div></a></div><div class="text"><p>Can I see your Nix config?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/a3a40b5b547344370d45ad0f805b4d81"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#197094427" name="197094427"><div>2020-05-11 02:53:03</div></a></div><div class="text"><p><a href="https://github.com/benkolera/nix/blob/master/home-manager/default.nix#L126" title="https://github.com/benkolera/nix/blob/master/home-manager/default.nix#L126">https://github.com/benkolera/nix/blob/master/home-manager/default.nix#L126</a><br>
<a href="https://github.com/benkolera/nix/blob/master/home-manager/dotfiles/emacs.d/init.el" title="https://github.com/benkolera/nix/blob/master/home-manager/dotfiles/emacs.d/init.el">https://github.com/benkolera/nix/blob/master/home-manager/dotfiles/emacs.d/init.el</a></p>
<p>Would be good to automate the nix emacs dependency and generation of the use-package stuff with some nix that had the nix dep and the elisp config in it, but it's good enough for now.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/benkolera/nix/blob/master/home-manager/default.nix#L126" style="background-image: url(https://avatars1.githubusercontent.com/u/159197?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/benkolera/nix/blob/master/home-manager/default.nix#L126" title="benkolera/nix">benkolera/nix</a></div><div class="message_embed_description">Contribute to benkolera/nix development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/benkolera/nix/blob/master/home-manager/dotfiles/emacs.d/init.el" style="background-image: url(https://avatars1.githubusercontent.com/u/159197?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/benkolera/nix/blob/master/home-manager/dotfiles/emacs.d/init.el" title="benkolera/nix">benkolera/nix</a></div><div class="message_embed_description">Contribute to benkolera/nix development by creating an account on GitHub.</div></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/a3a40b5b547344370d45ad0f805b4d81"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#197094563" name="197094563"><div>2020-05-11 02:57:13</div></a></div><div class="text"><p>And to be fair, there is a lot that this thing isn't doing that spacemacs and doom do, but this is like my 80% usecase version.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#223925487" name="223925487"><div>2021-01-25 16:48:47</div></a></div><div class="text"><p>I'm revisiting this topic right after deciding to switch back to Emacs ... the 'vanilla' one, not the Doom sloth :-) <span class="user-mention" data-user-id="251045">@Ben Kolera</span> I'm gonna steal your config. I don't need home-manager.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#223927226" name="223927226"><div>2021-01-25 16:59:56</div></a></div><div class="text"><p>First question I have, though, is: how often are the emacs packages updated in home-manager compared to that of nixpkgs? What's the benefit/drawback of using one over the other?</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#223934674" name="223934674"><div>2021-01-25 17:51:00</div></a></div><div class="text"><p><a href="https://www.srid.ca/vanilla-emacs-nixos.html">https://www.srid.ca/vanilla-emacs-nixos.html</a></p></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/a3a40b5b547344370d45ad0f805b4d81"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#223971338" name="223971338"><div>2021-01-25 22:22:37</div></a></div><div class="text"><p>The package set I use is a CI generated expression from the latest melpa. <a href="https://github.com/nix-community/emacs-overlay">https://github.com/nix-community/emacs-overlay</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/nix-community/emacs-overlay" style="background-image: url(https://avatars.githubusercontent.com/u/33221035?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/nix-community/emacs-overlay" title="nix-community/emacs-overlay">nix-community/emacs-overlay</a></div><div class="message_embed_description">Bleeding edge emacs overlay [maintainer=@adisbladis]  - nix-community/emacs-overlay</div></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://www.gravatar.com/avatar/a3a40b5b547344370d45ad0f805b4d81"></a><div class="content"><a class="author">Ben Kolera</a><div class="metadata"><a href="#223971418" name="223971418"><div>2021-01-25 22:23:36</div></a></div><div class="text"><p>At least I think so. Not really emacsing or nixing or haskelling much lately. All java and Ubuntu and intellij lol.</p></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/24b62e7b62bbbc0f4f0617b5ccd66e6f8fe784f6?version=2"></a><div class="content"><a class="author">tristanC</a><div class="metadata"><a href="#224042852" name="224042852"><div>2021-01-26 14:06:11</div></a></div><div class="text"><p>By the way, I'm also using a vanilla emacs with this <a href="https://github.com/podenv/devenv">config</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/podenv/devenv" style="background-image: url(https://avatars.githubusercontent.com/u/53371093?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/podenv/devenv" title="podenv/devenv">podenv/devenv</a></div><div class="message_embed_description">Contribute to podenv/devenv development by creating an account on GitHub.</div></div></div></div></div></div><div class="comment"><a class="avatar"><img src="https://zulip-avatars.s3.amazonaws.com/13896/4429aa8b689608f24a4ad712843ce29862e330d2?version=3"></a><div class="content"><a class="author">Sridhar Ratnakumar</a><div class="metadata"><a href="#224054138" name="224054138"><div>2021-01-26 15:23:02</div></a></div><div class="text"><p>In <a href="http://lobste.rs">lobste.rs</a> someone mentioned using home-manager modules to configure emacs in a modular (and declarative) fashion: <a href="https://lobste.rs/s/9dnrvx/vanilla_emacs_on_nixos">https://lobste.rs/s/9dnrvx/vanilla_emacs_on_nixos</a></p></div></div></div></div></div><div class="ui vertical footer segment"><a href="https://github.com/srid/zulip-archive">Powered by Haskell</a> | Questions? Contact <a href="https://www.srid.ca">srid</a></div></div></body></html>